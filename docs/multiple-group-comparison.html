<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 6 Multiple-group comparison | Statistical Models for Benchmark Comparison</title>
  <meta name="description" content="Chapter 6 Multiple-group comparison | Statistical Models for Benchmark Comparison" />
  <meta name="generator" content="bookdown 0.19 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 6 Multiple-group comparison | Statistical Models for Benchmark Comparison" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 Multiple-group comparison | Statistical Models for Benchmark Comparison" />
  
  
  

<meta name="author" content="David Issa Mattos" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="time-to-complete.html"/>
<link rel="next" href="sensitivity-analysis-and-model-comparison.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/kePrint-0.0.1/kePrint.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#pre-requisites"><i class="fa fa-check"></i>Pre-requisites</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#source-code"><i class="fa fa-check"></i>Source code</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#compiling-this-document"><i class="fa fa-check"></i>Compiling this document</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#software-environment"><i class="fa fa-check"></i>Software environment</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#the-simulation"><i class="fa fa-check"></i><b>1.1</b> The simulation</a><ul>
<li class="chapter" data-level="1.1.1" data-path="introduction.html"><a href="introduction.html#exploring-the-dataset"><i class="fa fa-check"></i><b>1.1.1</b> Exploring the dataset</a></li>
<li class="chapter" data-level="1.1.2" data-path="introduction.html"><a href="introduction.html#column-definitions"><i class="fa fa-check"></i><b>1.1.2</b> Column definitions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="probability-of-success-model.html"><a href="probability-of-success-model.html"><i class="fa fa-check"></i><b>2</b> Probability of success model</a><ul>
<li class="chapter" data-level="2.1" data-path="probability-of-success-model.html"><a href="probability-of-success-model.html#data-preparation"><i class="fa fa-check"></i><b>2.1</b> Data preparation</a></li>
<li class="chapter" data-level="2.2" data-path="probability-of-success-model.html"><a href="probability-of-success-model.html#stan-model"><i class="fa fa-check"></i><b>2.2</b> Stan model</a></li>
<li class="chapter" data-level="2.3" data-path="probability-of-success-model.html"><a href="probability-of-success-model.html#diagnosis"><i class="fa fa-check"></i><b>2.3</b> Diagnosis</a></li>
<li class="chapter" data-level="2.4" data-path="probability-of-success-model.html"><a href="probability-of-success-model.html#results-and-plots"><i class="fa fa-check"></i><b>2.4</b> Results and Plots</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="relative-improvement.html"><a href="relative-improvement.html"><i class="fa fa-check"></i><b>3</b> Relative improvement</a><ul>
<li class="chapter" data-level="3.1" data-path="relative-improvement.html"><a href="relative-improvement.html#data-preparation-1"><i class="fa fa-check"></i><b>3.1</b> Data preparation</a></li>
<li class="chapter" data-level="3.2" data-path="relative-improvement.html"><a href="relative-improvement.html#stan-model-1"><i class="fa fa-check"></i><b>3.2</b> Stan model</a></li>
<li class="chapter" data-level="3.3" data-path="relative-improvement.html"><a href="relative-improvement.html#diagnosis-1"><i class="fa fa-check"></i><b>3.3</b> Diagnosis</a></li>
<li class="chapter" data-level="3.4" data-path="relative-improvement.html"><a href="relative-improvement.html#results-and-plots-1"><i class="fa fa-check"></i><b>3.4</b> Results and Plots</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="ranking.html"><a href="ranking.html"><i class="fa fa-check"></i><b>4</b> Ranking</a><ul>
<li class="chapter" data-level="4.1" data-path="ranking.html"><a href="ranking.html#data-preparation-2"><i class="fa fa-check"></i><b>4.1</b> Data preparation</a></li>
<li class="chapter" data-level="4.2" data-path="ranking.html"><a href="ranking.html#stan-model-2"><i class="fa fa-check"></i><b>4.2</b> Stan model</a></li>
<li class="chapter" data-level="4.3" data-path="ranking.html"><a href="ranking.html#diagnosis-2"><i class="fa fa-check"></i><b>4.3</b> Diagnosis</a></li>
<li class="chapter" data-level="4.4" data-path="ranking.html"><a href="ranking.html#results-and-plots-2"><i class="fa fa-check"></i><b>4.4</b> Results and Plots</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="time-to-complete.html"><a href="time-to-complete.html"><i class="fa fa-check"></i><b>5</b> Time to complete</a><ul>
<li class="chapter" data-level="5.1" data-path="time-to-complete.html"><a href="time-to-complete.html#data-preparation-3"><i class="fa fa-check"></i><b>5.1</b> Data preparation</a></li>
<li class="chapter" data-level="5.2" data-path="time-to-complete.html"><a href="time-to-complete.html#stan-model-3"><i class="fa fa-check"></i><b>5.2</b> Stan model</a></li>
<li class="chapter" data-level="5.3" data-path="time-to-complete.html"><a href="time-to-complete.html#diagnosis-3"><i class="fa fa-check"></i><b>5.3</b> Diagnosis</a></li>
<li class="chapter" data-level="5.4" data-path="time-to-complete.html"><a href="time-to-complete.html#results-and-plots-3"><i class="fa fa-check"></i><b>5.4</b> Results and Plots</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="multiple-group-comparison.html"><a href="multiple-group-comparison.html"><i class="fa fa-check"></i><b>6</b> Multiple-group comparison</a><ul>
<li class="chapter" data-level="6.1" data-path="multiple-group-comparison.html"><a href="multiple-group-comparison.html#data-preparation-4"><i class="fa fa-check"></i><b>6.1</b> Data preparation</a></li>
<li class="chapter" data-level="6.2" data-path="multiple-group-comparison.html"><a href="multiple-group-comparison.html#stan-model-4"><i class="fa fa-check"></i><b>6.2</b> Stan model</a></li>
<li class="chapter" data-level="6.3" data-path="multiple-group-comparison.html"><a href="multiple-group-comparison.html#diagnosis-4"><i class="fa fa-check"></i><b>6.3</b> Diagnosis</a></li>
<li class="chapter" data-level="6.4" data-path="multiple-group-comparison.html"><a href="multiple-group-comparison.html#results-and-plots-4"><i class="fa fa-check"></i><b>6.4</b> Results and Plots</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="sensitivity-analysis-and-model-comparison.html"><a href="sensitivity-analysis-and-model-comparison.html"><i class="fa fa-check"></i><b>7</b> Sensitivity analysis and model comparison</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Statistical Models for Benchmark Comparison</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="multiple-group-comparison" class="section level1">
<h1><span class="header-section-number">Chapter 6</span> Multiple-group comparison</h1>
<p>We present here the Stan version of the BEST (Bayesian Estimation Supersedes the t Test) from John K. Kruschke. We will consider the following research question</p>
<p><strong>RQ4-a: </strong> What is the average number of function evaluations that it takes for an algorithm to converge to a solution at a precision of <span class="math inline">\(\epsilon=0.1\)</span>, with a budget of 100,000 function evaluations per dimension?</p>
<p><strong>RQ4-b: </strong> What is the impact of noise in the number of function evaluations that it takes for an algorithm to converge to a solution at a precision of <span class="math inline">\(\epsilon=0.1\)</span>, with a budget of 100,000 function evaluations per dimension?</p>
<div id="data-preparation-4" class="section level2">
<h2><span class="header-section-number">6.1</span> Data preparation</h2>
<p>We start importing the dataset</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="multiple-group-comparison.html#cb73-1"></a>dataset &lt;-<span class="st"> </span>readr<span class="op">::</span><span class="kw">read_csv</span>(<span class="st">&quot;./data/statscomp.csv&quot;</span>)</span></code></pre></div>
<p>Filtering the data that we want and applying some transformations</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="multiple-group-comparison.html#cb74-1"></a>d &lt;-<span class="st"> </span>dataset <span class="op">%&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw">filter</span>(OptimizationSuccessful <span class="op">==</span><span class="st"> </span><span class="ot">TRUE</span> <span class="op">&amp;</span><span class="st"> </span>(Algorithm <span class="op">==</span><span class="st"> &quot;PSO&quot;</span> <span class="op">|</span><span class="st"> </span>Algorithm <span class="op">==</span><span class="st"> </span></span>
<span id="cb74-2"><a href="multiple-group-comparison.html#cb74-2"></a><span class="st">    &quot;RandomSearch1&quot;</span> <span class="op">|</span><span class="st"> </span>Algorithm <span class="op">==</span><span class="st"> &quot;DifferentialEvolution&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw">select</span>(Algorithm, CostFunction, </span>
<span id="cb74-3"><a href="multiple-group-comparison.html#cb74-3"></a>    TimeToComplete, simNumber, MaxFeval) <span class="op">%&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">y =</span> <span class="dv">10000</span> <span class="op">*</span><span class="st"> </span>TimeToComplete<span class="op">/</span>MaxFeval, </span>
<span id="cb74-4"><a href="multiple-group-comparison.html#cb74-4"></a>    <span class="dt">CostFunctionID =</span> <span class="kw">create_index</span>(CostFunction), <span class="dt">AlgorithmID =</span> <span class="kw">create_index</span>(Algorithm)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb74-5"><a href="multiple-group-comparison.html#cb74-5"></a><span class="st">    </span>dplyr<span class="op">::</span><span class="kw">select</span>(Algorithm, AlgorithmID, CostFunction, CostFunctionID, y, <span class="op">-</span>simNumber, <span class="op">-</span>MaxFeval)</span>
<span id="cb74-6"><a href="multiple-group-comparison.html#cb74-6"></a></span>
<span id="cb74-7"><a href="multiple-group-comparison.html#cb74-7"></a>algorithms &lt;-<span class="st"> </span><span class="kw">get_index_names_as_array</span>(d<span class="op">$</span>Algorithm)</span>
<span id="cb74-8"><a href="multiple-group-comparison.html#cb74-8"></a>bm &lt;-<span class="st"> </span><span class="kw">get_index_names_as_array</span>(d<span class="op">$</span>CostFunction)</span></code></pre></div>
<p>The data should look like this:</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="multiple-group-comparison.html#cb75-1"></a><span class="kw">kable</span>(dplyr<span class="op">::</span><span class="kw">sample_n</span>(d, <span class="dt">size =</span> <span class="dv">10</span>), <span class="st">&quot;html&quot;</span>, <span class="dt">booktabs =</span> T, <span class="dt">format.args =</span> <span class="kw">list</span>(<span class="dt">scientific =</span> <span class="ot">FALSE</span>), </span>
<span id="cb75-2"><a href="multiple-group-comparison.html#cb75-2"></a>    <span class="dt">digits =</span> <span class="dv">3</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">kable_styling</span>(<span class="dt">bootstrap_options =</span> <span class="kw">c</span>(<span class="st">&quot;striped&quot;</span>, <span class="st">&quot;hover&quot;</span>, <span class="st">&quot;condensed&quot;</span>))</span></code></pre></div>
<table class="table table-striped table-hover table-condensed" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Algorithm
</th>
<th style="text-align:right;">
AlgorithmID
</th>
<th style="text-align:left;">
CostFunction
</th>
<th style="text-align:right;">
CostFunctionID
</th>
<th style="text-align:right;">
y
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
RandomSearch1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
Schwefel2d23N6
</td>
<td style="text-align:right;">
18
</td>
<td style="text-align:right;">
0.365
</td>
</tr>
<tr>
<td style="text-align:left;">
PSO
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
ChenBird
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
0.580
</td>
</tr>
<tr>
<td style="text-align:left;">
PSO
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
Mishra7N6
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
0.445
</td>
</tr>
<tr>
<td style="text-align:left;">
PSO
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
ChungReynoldsN2
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
0.389
</td>
</tr>
<tr>
<td style="text-align:left;">
RandomSearch1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
Trefethen
</td>
<td style="text-align:right;">
25
</td>
<td style="text-align:right;">
0.337
</td>
</tr>
<tr>
<td style="text-align:left;">
RandomSearch1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
DiscusN2
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
0.515
</td>
</tr>
<tr>
<td style="text-align:left;">
PSO
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
ChungReynoldsN2
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
0.446
</td>
</tr>
<tr>
<td style="text-align:left;">
DifferentialEvolution
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
BentCigarN6
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1.940
</td>
</tr>
<tr>
<td style="text-align:left;">
RandomSearch1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
Price1
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
0.160
</td>
</tr>
<tr>
<td style="text-align:left;">
DifferentialEvolution
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
StrechedVSineWave2N
</td>
<td style="text-align:right;">
23
</td>
<td style="text-align:right;">
1.517
</td>
</tr>
</tbody>
</table>
<p>Some initial visualizations in terms of box-plots</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="multiple-group-comparison.html#cb76-1"></a>p1 &lt;-<span class="st"> </span><span class="kw">ggplot</span>(d) <span class="op">+</span><span class="st"> </span><span class="kw">geom_boxplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> Algorithm, <span class="dt">y =</span> y)) <span class="op">+</span><span class="st"> </span><span class="kw">labs</span>(<span class="dt">y =</span> <span class="st">&quot;Time to complete x10,000&quot;</span>)</span>
<span id="cb76-2"><a href="multiple-group-comparison.html#cb76-2"></a>p1 <span class="op">+</span><span class="st"> </span><span class="kw">plot_annotation</span>(<span class="dt">title =</span> <span class="st">&quot;Box-plot of the time per evaluation&quot;</span>)</span></code></pre></div>
<p><img src="statscomp-appendix_files/figure-html/unnamed-chunk-76-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="multiple-group-comparison.html#cb77-1"></a>lmfit &lt;-<span class="st"> </span><span class="kw">lm</span>(y <span class="op">~</span><span class="st"> </span>Algorithm, <span class="dt">data =</span> d)</span>
<span id="cb77-2"><a href="multiple-group-comparison.html#cb77-2"></a></span>
<span id="cb77-3"><a href="multiple-group-comparison.html#cb77-3"></a>p2 &lt;-<span class="st"> </span><span class="kw">ggplot</span>() <span class="op">+</span><span class="st"> </span><span class="kw">geom_qq</span>(<span class="kw">aes</span>(<span class="dt">sample =</span> lmfit<span class="op">$</span>residuals)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_qq_line</span>(<span class="kw">aes</span>(<span class="dt">sample =</span> lmfit<span class="op">$</span>residuals)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb77-4"><a href="multiple-group-comparison.html#cb77-4"></a><span class="st">    </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Standard normal quantiles&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;Sample quantiles&quot;</span>)</span>
<span id="cb77-5"><a href="multiple-group-comparison.html#cb77-5"></a>p2 <span class="op">+</span><span class="st"> </span><span class="kw">plot_annotation</span>(<span class="dt">title =</span> <span class="st">&quot;Q-Q plot for normality analysis&quot;</span>)</span></code></pre></div>
<p><img src="statscomp-appendix_files/figure-html/unnamed-chunk-76-2.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="stan-model-4" class="section level2">
<h2><span class="header-section-number">6.2</span> Stan model</h2>
<p>The Stan model is specified in the file: <code>'./stanmodels/multiplegroups.stan'</code></p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="multiple-group-comparison.html#cb78-1"></a><span class="kw">print_stan_code</span>(<span class="st">&quot;./stanmodels/multiplegroups.stan&quot;</span>)</span></code></pre></div>
<pre><code>// Multiple group comparison
// Author: David Issa Mattos
// Date: 23 June 2020
//
//

data {
 int &lt;lower=1&gt; N_total; // Sample size
 real y[N_total]; // time to complete variable

 //To model each algorithm independently
 int &lt;lower=1&gt; N_algorithm; // Number of algorithms
 int algorithm_id[N_total]; //vector that has the id of each algorithm
 
 //To model the influence of each benchmark
 int &lt;lower=1&gt; N_bm;
 int bm_id[N_total];
}

parameters {
  //Fixed effect
  real a_alg[N_algorithm];//the mean effect given by the algorithms
  real &lt;lower=0&gt; sigma[N_algorithm];//std for the student t

  // //Random effect. The effect of the benchmarks
  real a_bm_norm[N_bm];//the mean effect given by the base class type
  real&lt;lower=0&gt; s;//std for the random effects
  
  real&lt;lower=0&gt; nu;//std for the random effects
  
}

model {
  real mu[N_total];
  real sigma_i[N_total];

  sigma ~ exponential(1);
  nu ~ exponential(1.0/30.0);
  
  //Fixed effect
  a_alg ~ normal(0,1);
  
  // //Random effects
  s ~ exponential(1);
  a_bm_norm ~ normal(0,1);

  for (i in 1:N_total)
  {
    
     mu[i] = a_alg[algorithm_id[i]] + a_bm_norm[bm_id[i]]*s;
     sigma_i[i] = sigma[algorithm_id[i]];
  }
  
  y ~ student_t(nu, mu, sigma_i);
}</code></pre>
<p>Letâ€™s compile and start sampling with the Stan function. In the data folder you can find the specific data used to fit the model after all transformations <code>"./data/multiplegroup-data.RDS"</code></p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="multiple-group-comparison.html#cb80-1"></a>standata &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">N_total =</span> <span class="kw">nrow</span>(d), <span class="dt">y =</span> d<span class="op">$</span>y, <span class="dt">N_algorithm =</span> <span class="kw">length</span>(algorithms), <span class="dt">algorithm_id =</span> d<span class="op">$</span>AlgorithmID, </span>
<span id="cb80-2"><a href="multiple-group-comparison.html#cb80-2"></a>    <span class="dt">N_bm =</span> <span class="kw">length</span>(bm), <span class="dt">bm_id =</span> d<span class="op">$</span>CostFunctionID)</span>
<span id="cb80-3"><a href="multiple-group-comparison.html#cb80-3"></a><span class="kw">saveRDS</span>(standata, <span class="dt">file =</span> <span class="st">&quot;./data/multiplegroups-data.RDS&quot;</span>)</span></code></pre></div>
<p>For computation time sake we are not running this chunk every time we compile this document. From now on we will load from the saved Stan fit object. However, when we change our model or the data we can just run this chunk separately. Here we increased the maxtreedepth and the number of iterations so we have a higher effective sample for inference. Both of these do not impact the validity of the chain just the computation efficiency.</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="multiple-group-comparison.html#cb81-1"></a>standata&lt;-<span class="kw">readRDS</span>(<span class="st">&quot;./data/multiplegroups-data.RDS&quot;</span>)</span>
<span id="cb81-2"><a href="multiple-group-comparison.html#cb81-2"></a>multiplegroup_fit &lt;-<span class="st"> </span><span class="kw">stan</span>(<span class="dt">file =</span> <span class="st">&#39;./stanmodels/multiplegroups.stan&#39;</span>,</span>
<span id="cb81-3"><a href="multiple-group-comparison.html#cb81-3"></a>                     <span class="dt">data=</span>standata,</span>
<span id="cb81-4"><a href="multiple-group-comparison.html#cb81-4"></a>                     <span class="dt">chains =</span> <span class="dv">4</span>,</span>
<span id="cb81-5"><a href="multiple-group-comparison.html#cb81-5"></a>                     <span class="dt">warmup =</span> <span class="dv">400</span>,</span>
<span id="cb81-6"><a href="multiple-group-comparison.html#cb81-6"></a>                     <span class="dt">iter =</span> <span class="dv">4000</span>,</span>
<span id="cb81-7"><a href="multiple-group-comparison.html#cb81-7"></a>                     <span class="co"># include = T,</span></span>
<span id="cb81-8"><a href="multiple-group-comparison.html#cb81-8"></a>                     <span class="co"># sample_file = &quot;./stanmodels/multiplegroups.csv&quot;</span></span>
<span id="cb81-9"><a href="multiple-group-comparison.html#cb81-9"></a>                     <span class="dt">control =</span> <span class="kw">list</span>(<span class="dt">max_treedepth =</span> <span class="dv">15</span>))</span>
<span id="cb81-10"><a href="multiple-group-comparison.html#cb81-10"></a><span class="kw">saveRDS</span>(multiplegroup_fit, <span class="dt">file =</span> <span class="st">&quot;./data/multiplegroups-fit.RDS&quot;</span>)</span></code></pre></div>
</div>
<div id="diagnosis-4" class="section level2">
<h2><span class="header-section-number">6.3</span> Diagnosis</h2>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="multiple-group-comparison.html#cb82-1"></a>a_alg_v &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;a_alg[1]&quot;</span>, <span class="st">&quot;a_alg[2]&quot;</span>, <span class="st">&quot;a_alg[3]&quot;</span>)</span>
<span id="cb82-2"><a href="multiple-group-comparison.html#cb82-2"></a></span>
<span id="cb82-3"><a href="multiple-group-comparison.html#cb82-3"></a>sigma_v &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;sigma[1]&quot;</span>, <span class="st">&quot;sigma[2]&quot;</span>, <span class="st">&quot;sigma[3]&quot;</span>)</span>
<span id="cb82-4"><a href="multiple-group-comparison.html#cb82-4"></a>rstan<span class="op">::</span><span class="kw">traceplot</span>(multiplegroup_fit, <span class="dt">pars =</span> a_alg_v)</span></code></pre></div>
<p><img src="statscomp-appendix_files/figure-html/unnamed-chunk-82-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="multiple-group-comparison.html#cb83-1"></a>rstan<span class="op">::</span><span class="kw">traceplot</span>(multiplegroup_fit, <span class="dt">pars =</span> sigma_v)</span></code></pre></div>
<p><img src="statscomp-appendix_files/figure-html/unnamed-chunk-82-2.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="multiple-group-comparison.html#cb84-1"></a>rstan<span class="op">::</span><span class="kw">traceplot</span>(multiplegroup_fit, <span class="dt">pars =</span> <span class="kw">c</span>(<span class="st">&quot;s&quot;</span>, <span class="st">&quot;nu&quot;</span>))</span></code></pre></div>
<p><img src="statscomp-appendix_files/figure-html/unnamed-chunk-82-3.png" width="672" style="display: block; margin: auto;" /></p>
<p>Another diagnosis is to look at the Rhat. If Rhat is greater than 1.05 it indicates a divergence in the chains (they did not mix well). The table below shows a summary of the sampling.</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="multiple-group-comparison.html#cb85-1"></a><span class="kw">kable</span>(<span class="kw">summary</span>(multiplegroup_fit)<span class="op">$</span>summary, <span class="st">&quot;html&quot;</span>, ) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">kable_styling</span>(<span class="dt">bootstrap_options =</span> <span class="kw">c</span>(<span class="st">&quot;striped&quot;</span>, </span>
<span id="cb85-2"><a href="multiple-group-comparison.html#cb85-2"></a>    <span class="st">&quot;hover&quot;</span>, <span class="st">&quot;condensed&quot;</span>))</span></code></pre></div>
<table class="table table-striped table-hover table-condensed" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
mean
</th>
<th style="text-align:right;">
se_mean
</th>
<th style="text-align:right;">
sd
</th>
<th style="text-align:right;">
2.5%
</th>
<th style="text-align:right;">
25%
</th>
<th style="text-align:right;">
50%
</th>
<th style="text-align:right;">
75%
</th>
<th style="text-align:right;">
97.5%
</th>
<th style="text-align:right;">
n_eff
</th>
<th style="text-align:right;">
Rhat
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
a_alg[1]
</td>
<td style="text-align:right;">
1.7815819
</td>
<td style="text-align:right;">
0.0024748
</td>
<td style="text-align:right;">
0.0566810
</td>
<td style="text-align:right;">
1.6721093
</td>
<td style="text-align:right;">
1.7445310
</td>
<td style="text-align:right;">
1.7807935
</td>
<td style="text-align:right;">
1.8199106
</td>
<td style="text-align:right;">
1.8926830
</td>
<td style="text-align:right;">
524.5383
</td>
<td style="text-align:right;">
1.002721
</td>
</tr>
<tr>
<td style="text-align:left;">
a_alg[2]
</td>
<td style="text-align:right;">
0.5696040
</td>
<td style="text-align:right;">
0.0024743
</td>
<td style="text-align:right;">
0.0566789
</td>
<td style="text-align:right;">
0.4603005
</td>
<td style="text-align:right;">
0.5326239
</td>
<td style="text-align:right;">
0.5687407
</td>
<td style="text-align:right;">
0.6077809
</td>
<td style="text-align:right;">
0.6804053
</td>
<td style="text-align:right;">
524.7432
</td>
<td style="text-align:right;">
1.002723
</td>
</tr>
<tr>
<td style="text-align:left;">
a_alg[3]
</td>
<td style="text-align:right;">
0.4428074
</td>
<td style="text-align:right;">
0.0024754
</td>
<td style="text-align:right;">
0.0566494
</td>
<td style="text-align:right;">
0.3332348
</td>
<td style="text-align:right;">
0.4059292
</td>
<td style="text-align:right;">
0.4419022
</td>
<td style="text-align:right;">
0.4810402
</td>
<td style="text-align:right;">
0.5535471
</td>
<td style="text-align:right;">
523.7002
</td>
<td style="text-align:right;">
1.002756
</td>
</tr>
<tr>
<td style="text-align:left;">
sigma[1]
</td>
<td style="text-align:right;">
0.0876911
</td>
<td style="text-align:right;">
0.0000311
</td>
<td style="text-align:right;">
0.0017075
</td>
<td style="text-align:right;">
0.0844449
</td>
<td style="text-align:right;">
0.0865150
</td>
<td style="text-align:right;">
0.0876638
</td>
<td style="text-align:right;">
0.0888157
</td>
<td style="text-align:right;">
0.0911495
</td>
<td style="text-align:right;">
3013.0294
</td>
<td style="text-align:right;">
1.001474
</td>
</tr>
<tr>
<td style="text-align:left;">
sigma[2]
</td>
<td style="text-align:right;">
0.0694382
</td>
<td style="text-align:right;">
0.0000276
</td>
<td style="text-align:right;">
0.0014904
</td>
<td style="text-align:right;">
0.0665632
</td>
<td style="text-align:right;">
0.0684023
</td>
<td style="text-align:right;">
0.0693989
</td>
<td style="text-align:right;">
0.0704513
</td>
<td style="text-align:right;">
0.0724145
</td>
<td style="text-align:right;">
2913.9665
</td>
<td style="text-align:right;">
1.001041
</td>
</tr>
<tr>
<td style="text-align:left;">
sigma[3]
</td>
<td style="text-align:right;">
0.0368466
</td>
<td style="text-align:right;">
0.0000150
</td>
<td style="text-align:right;">
0.0008085
</td>
<td style="text-align:right;">
0.0352774
</td>
<td style="text-align:right;">
0.0363041
</td>
<td style="text-align:right;">
0.0368220
</td>
<td style="text-align:right;">
0.0373747
</td>
<td style="text-align:right;">
0.0384569
</td>
<td style="text-align:right;">
2897.1475
</td>
<td style="text-align:right;">
1.000519
</td>
</tr>
<tr>
<td style="text-align:left;">
a_bm_norm[1]
</td>
<td style="text-align:right;">
0.7192083
</td>
<td style="text-align:right;">
0.0086246
</td>
<td style="text-align:right;">
0.2094808
</td>
<td style="text-align:right;">
0.3161019
</td>
<td style="text-align:right;">
0.5779758
</td>
<td style="text-align:right;">
0.7220803
</td>
<td style="text-align:right;">
0.8677116
</td>
<td style="text-align:right;">
1.1162210
</td>
<td style="text-align:right;">
589.9497
</td>
<td style="text-align:right;">
1.003545
</td>
</tr>
<tr>
<td style="text-align:left;">
a_bm_norm[2]
</td>
<td style="text-align:right;">
-0.1814373
</td>
<td style="text-align:right;">
0.0079796
</td>
<td style="text-align:right;">
0.1837739
</td>
<td style="text-align:right;">
-0.5391235
</td>
<td style="text-align:right;">
-0.3097406
</td>
<td style="text-align:right;">
-0.1810262
</td>
<td style="text-align:right;">
-0.0580464
</td>
<td style="text-align:right;">
0.1761930
</td>
<td style="text-align:right;">
530.4046
</td>
<td style="text-align:right;">
1.003210
</td>
</tr>
<tr>
<td style="text-align:left;">
a_bm_norm[3]
</td>
<td style="text-align:right;">
-0.5827379
</td>
<td style="text-align:right;">
0.0083120
</td>
<td style="text-align:right;">
0.1959346
</td>
<td style="text-align:right;">
-0.9565364
</td>
<td style="text-align:right;">
-0.7190948
</td>
<td style="text-align:right;">
-0.5808377
</td>
<td style="text-align:right;">
-0.4482490
</td>
<td style="text-align:right;">
-0.2036032
</td>
<td style="text-align:right;">
555.6618
</td>
<td style="text-align:right;">
1.004407
</td>
</tr>
<tr>
<td style="text-align:left;">
a_bm_norm[4]
</td>
<td style="text-align:right;">
-0.6089228
</td>
<td style="text-align:right;">
0.0083542
</td>
<td style="text-align:right;">
0.1970467
</td>
<td style="text-align:right;">
-0.9822168
</td>
<td style="text-align:right;">
-0.7462298
</td>
<td style="text-align:right;">
-0.6064975
</td>
<td style="text-align:right;">
-0.4755324
</td>
<td style="text-align:right;">
-0.2258659
</td>
<td style="text-align:right;">
556.3242
</td>
<td style="text-align:right;">
1.004509
</td>
</tr>
<tr>
<td style="text-align:left;">
a_bm_norm[5]
</td>
<td style="text-align:right;">
-0.2476612
</td>
<td style="text-align:right;">
0.0080067
</td>
<td style="text-align:right;">
0.1849829
</td>
<td style="text-align:right;">
-0.6059732
</td>
<td style="text-align:right;">
-0.3757603
</td>
<td style="text-align:right;">
-0.2457094
</td>
<td style="text-align:right;">
-0.1225043
</td>
<td style="text-align:right;">
0.1104547
</td>
<td style="text-align:right;">
533.7774
</td>
<td style="text-align:right;">
1.003279
</td>
</tr>
<tr>
<td style="text-align:left;">
a_bm_norm[6]
</td>
<td style="text-align:right;">
0.4750596
</td>
<td style="text-align:right;">
0.0082505
</td>
<td style="text-align:right;">
0.1959683
</td>
<td style="text-align:right;">
0.0961207
</td>
<td style="text-align:right;">
0.3410841
</td>
<td style="text-align:right;">
0.4779159
</td>
<td style="text-align:right;">
0.6141989
</td>
<td style="text-align:right;">
0.8520264
</td>
<td style="text-align:right;">
564.1714
</td>
<td style="text-align:right;">
1.002989
</td>
</tr>
<tr>
<td style="text-align:left;">
a_bm_norm[7]
</td>
<td style="text-align:right;">
-0.6420408
</td>
<td style="text-align:right;">
0.0083861
</td>
<td style="text-align:right;">
0.1987948
</td>
<td style="text-align:right;">
-1.0201032
</td>
<td style="text-align:right;">
-0.7794661
</td>
<td style="text-align:right;">
-0.6404438
</td>
<td style="text-align:right;">
-0.5074182
</td>
<td style="text-align:right;">
-0.2562647
</td>
<td style="text-align:right;">
561.9448
</td>
<td style="text-align:right;">
1.004617
</td>
</tr>
<tr>
<td style="text-align:left;">
a_bm_norm[8]
</td>
<td style="text-align:right;">
-0.1634319
</td>
<td style="text-align:right;">
0.0079914
</td>
<td style="text-align:right;">
0.1838506
</td>
<td style="text-align:right;">
-0.5206348
</td>
<td style="text-align:right;">
-0.2915316
</td>
<td style="text-align:right;">
-0.1620165
</td>
<td style="text-align:right;">
-0.0398618
</td>
<td style="text-align:right;">
0.1912232
</td>
<td style="text-align:right;">
529.2798
</td>
<td style="text-align:right;">
1.003135
</td>
</tr>
<tr>
<td style="text-align:left;">
a_bm_norm[9]
</td>
<td style="text-align:right;">
2.1154599
</td>
<td style="text-align:right;">
0.0123913
</td>
<td style="text-align:right;">
0.3386954
</td>
<td style="text-align:right;">
1.4588894
</td>
<td style="text-align:right;">
1.8888847
</td>
<td style="text-align:right;">
2.1236694
</td>
<td style="text-align:right;">
2.3444388
</td>
<td style="text-align:right;">
2.7697322
</td>
<td style="text-align:right;">
747.1082
</td>
<td style="text-align:right;">
1.006364
</td>
</tr>
<tr>
<td style="text-align:left;">
a_bm_norm[10]
</td>
<td style="text-align:right;">
-0.1804465
</td>
<td style="text-align:right;">
0.0079840
</td>
<td style="text-align:right;">
0.1839089
</td>
<td style="text-align:right;">
-0.5387432
</td>
<td style="text-align:right;">
-0.3089380
</td>
<td style="text-align:right;">
-0.1785651
</td>
<td style="text-align:right;">
-0.0566686
</td>
<td style="text-align:right;">
0.1739718
</td>
<td style="text-align:right;">
530.6024
</td>
<td style="text-align:right;">
1.003236
</td>
</tr>
<tr>
<td style="text-align:left;">
a_bm_norm[11]
</td>
<td style="text-align:right;">
0.9041127
</td>
<td style="text-align:right;">
0.0089536
</td>
<td style="text-align:right;">
0.2222174
</td>
<td style="text-align:right;">
0.4740013
</td>
<td style="text-align:right;">
0.7546731
</td>
<td style="text-align:right;">
0.9095963
</td>
<td style="text-align:right;">
1.0585790
</td>
<td style="text-align:right;">
1.3270507
</td>
<td style="text-align:right;">
615.9702
</td>
<td style="text-align:right;">
1.004018
</td>
</tr>
<tr>
<td style="text-align:left;">
a_bm_norm[12]
</td>
<td style="text-align:right;">
-0.7819305
</td>
<td style="text-align:right;">
0.0086115
</td>
<td style="text-align:right;">
0.2067054
</td>
<td style="text-align:right;">
-1.1711710
</td>
<td style="text-align:right;">
-0.9250797
</td>
<td style="text-align:right;">
-0.7817243
</td>
<td style="text-align:right;">
-0.6403822
</td>
<td style="text-align:right;">
-0.3839085
</td>
<td style="text-align:right;">
576.1671
</td>
<td style="text-align:right;">
1.005135
</td>
</tr>
<tr>
<td style="text-align:left;">
a_bm_norm[13]
</td>
<td style="text-align:right;">
-0.6772704
</td>
<td style="text-align:right;">
0.0084572
</td>
<td style="text-align:right;">
0.2008767
</td>
<td style="text-align:right;">
-1.0568907
</td>
<td style="text-align:right;">
-0.8167815
</td>
<td style="text-align:right;">
-0.6756358
</td>
<td style="text-align:right;">
-0.5401214
</td>
<td style="text-align:right;">
-0.2884239
</td>
<td style="text-align:right;">
564.1649
</td>
<td style="text-align:right;">
1.004795
</td>
</tr>
<tr>
<td style="text-align:left;">
a_bm_norm[14]
</td>
<td style="text-align:right;">
1.7172228
</td>
<td style="text-align:right;">
0.0110972
</td>
<td style="text-align:right;">
0.2962334
</td>
<td style="text-align:right;">
1.1467413
</td>
<td style="text-align:right;">
1.5179348
</td>
<td style="text-align:right;">
1.7242375
</td>
<td style="text-align:right;">
1.9183202
</td>
<td style="text-align:right;">
2.2869387
</td>
<td style="text-align:right;">
712.5936
</td>
<td style="text-align:right;">
1.005705
</td>
</tr>
<tr>
<td style="text-align:left;">
a_bm_norm[15]
</td>
<td style="text-align:right;">
-0.2509447
</td>
<td style="text-align:right;">
0.0080060
</td>
<td style="text-align:right;">
0.1849612
</td>
<td style="text-align:right;">
-0.6096211
</td>
<td style="text-align:right;">
-0.3798723
</td>
<td style="text-align:right;">
-0.2493476
</td>
<td style="text-align:right;">
-0.1265618
</td>
<td style="text-align:right;">
0.1081399
</td>
<td style="text-align:right;">
533.7393
</td>
<td style="text-align:right;">
1.003362
</td>
</tr>
<tr>
<td style="text-align:left;">
a_bm_norm[16]
</td>
<td style="text-align:right;">
-0.6887018
</td>
<td style="text-align:right;">
0.0084737
</td>
<td style="text-align:right;">
0.2014353
</td>
<td style="text-align:right;">
-1.0669924
</td>
<td style="text-align:right;">
-0.8280677
</td>
<td style="text-align:right;">
-0.6876355
</td>
<td style="text-align:right;">
-0.5517005
</td>
<td style="text-align:right;">
-0.2998266
</td>
<td style="text-align:right;">
565.0964
</td>
<td style="text-align:right;">
1.004953
</td>
</tr>
<tr>
<td style="text-align:left;">
a_bm_norm[17]
</td>
<td style="text-align:right;">
-0.2987615
</td>
<td style="text-align:right;">
0.0080353
</td>
<td style="text-align:right;">
0.1858974
</td>
<td style="text-align:right;">
-0.6575569
</td>
<td style="text-align:right;">
-0.4267789
</td>
<td style="text-align:right;">
-0.2965663
</td>
<td style="text-align:right;">
-0.1724545
</td>
<td style="text-align:right;">
0.0592583
</td>
<td style="text-align:right;">
535.2275
</td>
<td style="text-align:right;">
1.003464
</td>
</tr>
<tr>
<td style="text-align:left;">
a_bm_norm[18]
</td>
<td style="text-align:right;">
-0.2057157
</td>
<td style="text-align:right;">
0.0079888
</td>
<td style="text-align:right;">
0.1842716
</td>
<td style="text-align:right;">
-0.5629628
</td>
<td style="text-align:right;">
-0.3336642
</td>
<td style="text-align:right;">
-0.2054677
</td>
<td style="text-align:right;">
-0.0819283
</td>
<td style="text-align:right;">
0.1508168
</td>
<td style="text-align:right;">
532.0458
</td>
<td style="text-align:right;">
1.003351
</td>
</tr>
<tr>
<td style="text-align:left;">
a_bm_norm[19]
</td>
<td style="text-align:right;">
-0.1772225
</td>
<td style="text-align:right;">
0.0079777
</td>
<td style="text-align:right;">
0.1838359
</td>
<td style="text-align:right;">
-0.5353252
</td>
<td style="text-align:right;">
-0.3051236
</td>
<td style="text-align:right;">
-0.1764972
</td>
<td style="text-align:right;">
-0.0539611
</td>
<td style="text-align:right;">
0.1780432
</td>
<td style="text-align:right;">
531.0154
</td>
<td style="text-align:right;">
1.003200
</td>
</tr>
<tr>
<td style="text-align:left;">
a_bm_norm[20]
</td>
<td style="text-align:right;">
0.0021975
</td>
<td style="text-align:right;">
0.0079578
</td>
<td style="text-align:right;">
0.1833495
</td>
<td style="text-align:right;">
-0.3579432
</td>
<td style="text-align:right;">
-0.1252151
</td>
<td style="text-align:right;">
0.0040986
</td>
<td style="text-align:right;">
0.1274310
</td>
<td style="text-align:right;">
0.3529663
</td>
<td style="text-align:right;">
530.8547
</td>
<td style="text-align:right;">
1.002951
</td>
</tr>
<tr>
<td style="text-align:left;">
a_bm_norm[21]
</td>
<td style="text-align:right;">
-0.0370757
</td>
<td style="text-align:right;">
0.0079567
</td>
<td style="text-align:right;">
0.1833234
</td>
<td style="text-align:right;">
-0.3970028
</td>
<td style="text-align:right;">
-0.1650148
</td>
<td style="text-align:right;">
-0.0351024
</td>
<td style="text-align:right;">
0.0858728
</td>
<td style="text-align:right;">
0.3142432
</td>
<td style="text-align:right;">
530.8508
</td>
<td style="text-align:right;">
1.002966
</td>
</tr>
<tr>
<td style="text-align:left;">
a_bm_norm[22]
</td>
<td style="text-align:right;">
-0.2582016
</td>
<td style="text-align:right;">
0.0080267
</td>
<td style="text-align:right;">
0.1850542
</td>
<td style="text-align:right;">
-0.6155364
</td>
<td style="text-align:right;">
-0.3865295
</td>
<td style="text-align:right;">
-0.2570828
</td>
<td style="text-align:right;">
-0.1331500
</td>
<td style="text-align:right;">
0.0991284
</td>
<td style="text-align:right;">
531.5186
</td>
<td style="text-align:right;">
1.003413
</td>
</tr>
<tr>
<td style="text-align:left;">
a_bm_norm[23]
</td>
<td style="text-align:right;">
-0.7357537
</td>
<td style="text-align:right;">
0.0085331
</td>
<td style="text-align:right;">
0.2038511
</td>
<td style="text-align:right;">
-1.1186036
</td>
<td style="text-align:right;">
-0.8766281
</td>
<td style="text-align:right;">
-0.7351464
</td>
<td style="text-align:right;">
-0.5982257
</td>
<td style="text-align:right;">
-0.3425063
</td>
<td style="text-align:right;">
570.7101
</td>
<td style="text-align:right;">
1.004962
</td>
</tr>
<tr>
<td style="text-align:left;">
a_bm_norm[24]
</td>
<td style="text-align:right;">
-0.8252724
</td>
<td style="text-align:right;">
0.0086947
</td>
<td style="text-align:right;">
0.2094949
</td>
<td style="text-align:right;">
-1.2189848
</td>
<td style="text-align:right;">
-0.9708733
</td>
<td style="text-align:right;">
-0.8254469
</td>
<td style="text-align:right;">
-0.6819852
</td>
<td style="text-align:right;">
-0.4221552
</td>
<td style="text-align:right;">
580.5534
</td>
<td style="text-align:right;">
1.005230
</td>
</tr>
<tr>
<td style="text-align:left;">
a_bm_norm[25]
</td>
<td style="text-align:right;">
-0.3359663
</td>
<td style="text-align:right;">
0.0080697
</td>
<td style="text-align:right;">
0.1868876
</td>
<td style="text-align:right;">
-0.6971104
</td>
<td style="text-align:right;">
-0.4646943
</td>
<td style="text-align:right;">
-0.3327841
</td>
<td style="text-align:right;">
-0.2091031
</td>
<td style="text-align:right;">
0.0259680
</td>
<td style="text-align:right;">
536.3423
</td>
<td style="text-align:right;">
1.003643
</td>
</tr>
<tr>
<td style="text-align:left;">
a_bm_norm[26]
</td>
<td style="text-align:right;">
0.3504413
</td>
<td style="text-align:right;">
0.0081328
</td>
<td style="text-align:right;">
0.1907707
</td>
<td style="text-align:right;">
-0.0194125
</td>
<td style="text-align:right;">
0.2175444
</td>
<td style="text-align:right;">
0.3538897
</td>
<td style="text-align:right;">
0.4859020
</td>
<td style="text-align:right;">
0.7197615
</td>
<td style="text-align:right;">
550.2295
</td>
<td style="text-align:right;">
1.002923
</td>
</tr>
<tr>
<td style="text-align:left;">
a_bm_norm[27]
</td>
<td style="text-align:right;">
-0.7344475
</td>
<td style="text-align:right;">
0.0085396
</td>
<td style="text-align:right;">
0.2039208
</td>
<td style="text-align:right;">
-1.1172730
</td>
<td style="text-align:right;">
-0.8755600
</td>
<td style="text-align:right;">
-0.7335636
</td>
<td style="text-align:right;">
-0.5964523
</td>
<td style="text-align:right;">
-0.3408633
</td>
<td style="text-align:right;">
570.2296
</td>
<td style="text-align:right;">
1.004995
</td>
</tr>
<tr>
<td style="text-align:left;">
a_bm_norm[28]
</td>
<td style="text-align:right;">
3.7056060
</td>
<td style="text-align:right;">
0.0184140
</td>
<td style="text-align:right;">
0.5268846
</td>
<td style="text-align:right;">
2.6654739
</td>
<td style="text-align:right;">
3.3494149
</td>
<td style="text-align:right;">
3.7062854
</td>
<td style="text-align:right;">
4.0644549
</td>
<td style="text-align:right;">
4.7388580
</td>
<td style="text-align:right;">
818.7208
</td>
<td style="text-align:right;">
1.007627
</td>
</tr>
<tr>
<td style="text-align:left;">
a_bm_norm[29]
</td>
<td style="text-align:right;">
-0.4139099
</td>
<td style="text-align:right;">
0.0081410
</td>
<td style="text-align:right;">
0.1892188
</td>
<td style="text-align:right;">
-0.7771179
</td>
<td style="text-align:right;">
-0.5447576
</td>
<td style="text-align:right;">
-0.4105746
</td>
<td style="text-align:right;">
-0.2855314
</td>
<td style="text-align:right;">
-0.0474645
</td>
<td style="text-align:right;">
540.2168
</td>
<td style="text-align:right;">
1.003952
</td>
</tr>
<tr>
<td style="text-align:left;">
a_bm_norm[30]
</td>
<td style="text-align:right;">
-0.1763685
</td>
<td style="text-align:right;">
0.0079847
</td>
<td style="text-align:right;">
0.1837990
</td>
<td style="text-align:right;">
-0.5350264
</td>
<td style="text-align:right;">
-0.3048733
</td>
<td style="text-align:right;">
-0.1757948
</td>
<td style="text-align:right;">
-0.0531583
</td>
<td style="text-align:right;">
0.1779765
</td>
<td style="text-align:right;">
529.8757
</td>
<td style="text-align:right;">
1.003222
</td>
</tr>
<tr>
<td style="text-align:left;">
s
</td>
<td style="text-align:right;">
0.3064198
</td>
<td style="text-align:right;">
0.0014329
</td>
<td style="text-align:right;">
0.0423732
</td>
<td style="text-align:right;">
0.2379312
</td>
<td style="text-align:right;">
0.2766066
</td>
<td style="text-align:right;">
0.3013470
</td>
<td style="text-align:right;">
0.3301371
</td>
<td style="text-align:right;">
0.4061672
</td>
<td style="text-align:right;">
874.5406
</td>
<td style="text-align:right;">
1.009378
</td>
</tr>
<tr>
<td style="text-align:left;">
nu
</td>
<td style="text-align:right;">
2.7520111
</td>
<td style="text-align:right;">
0.0015060
</td>
<td style="text-align:right;">
0.0796144
</td>
<td style="text-align:right;">
2.5992295
</td>
<td style="text-align:right;">
2.6986152
</td>
<td style="text-align:right;">
2.7495934
</td>
<td style="text-align:right;">
2.8046633
</td>
<td style="text-align:right;">
2.9117775
</td>
<td style="text-align:right;">
2794.5987
</td>
<td style="text-align:right;">
1.001687
</td>
</tr>
<tr>
<td style="text-align:left;">
lp__
</td>
<td style="text-align:right;">
14070.3651083
</td>
<td style="text-align:right;">
0.1502401
</td>
<td style="text-align:right;">
5.7707953
</td>
<td style="text-align:right;">
14058.1445159
</td>
<td style="text-align:right;">
14066.7032470
</td>
<td style="text-align:right;">
14070.6873137
</td>
<td style="text-align:right;">
14074.3315285
</td>
<td style="text-align:right;">
14080.8165057
</td>
<td style="text-align:right;">
1475.3660
</td>
<td style="text-align:right;">
1.004358
</td>
</tr>
</tbody>
</table>
</div>
<div id="results-and-plots-4" class="section level2">
<h2><span class="header-section-number">6.4</span> Results and Plots</h2>
<p>First lets get the HPDI of every parameter.</p>
<p>Then we restrict to the algorithms, them to the slopes, then to the parameter s</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="multiple-group-comparison.html#cb86-1"></a>hpdi &lt;-<span class="st"> </span><span class="kw">get_HPDI_from_stanfit</span>(multiplegroup_fit)</span>
<span id="cb86-2"><a href="multiple-group-comparison.html#cb86-2"></a></span>
<span id="cb86-3"><a href="multiple-group-comparison.html#cb86-3"></a>hpdi_algorithm &lt;-<span class="st"> </span>hpdi <span class="op">%&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw">filter</span>(<span class="kw">str_detect</span>(Parameter, <span class="st">&quot;a_alg</span><span class="ch">\\</span><span class="st">[&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">Parameter =</span> algorithms)  <span class="co">#Changing to the algorithms labels</span></span>
<span id="cb86-4"><a href="multiple-group-comparison.html#cb86-4"></a></span>
<span id="cb86-5"><a href="multiple-group-comparison.html#cb86-5"></a>hpdi_sigma &lt;-<span class="st"> </span>hpdi <span class="op">%&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw">filter</span>(<span class="kw">str_detect</span>(Parameter, <span class="st">&quot;sigma</span><span class="ch">\\</span><span class="st">[&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">Parameter =</span> algorithms)  <span class="co">#Changing to the algorithms labels</span></span>
<span id="cb86-6"><a href="multiple-group-comparison.html#cb86-6"></a></span>
<span id="cb86-7"><a href="multiple-group-comparison.html#cb86-7"></a>hpdi_s &lt;-<span class="st"> </span>hpdi <span class="op">%&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw">filter</span>(Parameter <span class="op">==</span><span class="st"> &quot;s&quot;</span>)</span>
<span id="cb86-8"><a href="multiple-group-comparison.html#cb86-8"></a></span>
<span id="cb86-9"><a href="multiple-group-comparison.html#cb86-9"></a></span>
<span id="cb86-10"><a href="multiple-group-comparison.html#cb86-10"></a>hpdi_nu &lt;-<span class="st"> </span>hpdi <span class="op">%&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw">filter</span>(Parameter <span class="op">==</span><span class="st"> &quot;nu&quot;</span>)</span>
<span id="cb86-11"><a href="multiple-group-comparison.html#cb86-11"></a></span>
<span id="cb86-12"><a href="multiple-group-comparison.html#cb86-12"></a></span>
<span id="cb86-13"><a href="multiple-group-comparison.html#cb86-13"></a>hpdi_nu_s &lt;-<span class="st"> </span>hpdi <span class="op">%&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw">filter</span>(Parameter <span class="op">==</span><span class="st"> &quot;nu&quot;</span> <span class="op">|</span><span class="st"> </span>Parameter <span class="op">==</span><span class="st"> &quot;s&quot;</span>)</span>
<span id="cb86-14"><a href="multiple-group-comparison.html#cb86-14"></a></span>
<span id="cb86-15"><a href="multiple-group-comparison.html#cb86-15"></a>p_alg &lt;-<span class="st"> </span><span class="kw">ggplot</span>(<span class="dt">data =</span> hpdi_algorithm, <span class="kw">aes</span>(<span class="dt">x =</span> Parameter)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_pointrange</span>(<span class="kw">aes</span>(<span class="dt">ymin =</span> HPDI.lower, </span>
<span id="cb86-16"><a href="multiple-group-comparison.html#cb86-16"></a>    <span class="dt">ymax =</span> HPDI.higher, <span class="dt">y =</span> Mean)) <span class="op">+</span><span class="st"> </span><span class="kw">labs</span>(<span class="dt">y =</span> <span class="st">&quot;a_alg&quot;</span>, <span class="dt">x =</span> <span class="st">&quot;Algorithm&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">coord_flip</span>()</span>
<span id="cb86-17"><a href="multiple-group-comparison.html#cb86-17"></a>p_alg <span class="op">+</span><span class="st"> </span><span class="kw">plot_annotation</span>(<span class="dt">title =</span> <span class="st">&quot;HPDI interval for the algorithms&quot;</span>)</span></code></pre></div>
<p><img src="statscomp-appendix_files/figure-html/unnamed-chunk-84-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="multiple-group-comparison.html#cb87-1"></a>p_sigma &lt;-<span class="st"> </span><span class="kw">ggplot</span>(<span class="dt">data =</span> hpdi_sigma, <span class="kw">aes</span>(<span class="dt">x =</span> Parameter)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_pointrange</span>(<span class="kw">aes</span>(<span class="dt">ymin =</span> HPDI.lower, </span>
<span id="cb87-2"><a href="multiple-group-comparison.html#cb87-2"></a>    <span class="dt">ymax =</span> HPDI.higher, <span class="dt">y =</span> Mean)) <span class="op">+</span><span class="st"> </span><span class="kw">labs</span>(<span class="dt">y =</span> <span class="st">&quot;sigma&quot;</span>, <span class="dt">x =</span> <span class="st">&quot;Algorithm&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">coord_flip</span>()</span>
<span id="cb87-3"><a href="multiple-group-comparison.html#cb87-3"></a>p_sigma <span class="op">+</span><span class="st"> </span><span class="kw">plot_annotation</span>(<span class="dt">title =</span> <span class="st">&quot;HPDI interval for sigma&quot;</span>)</span></code></pre></div>
<p><img src="statscomp-appendix_files/figure-html/unnamed-chunk-84-2.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="multiple-group-comparison.html#cb88-1"></a>p_s &lt;-<span class="st"> </span><span class="kw">ggplot</span>(<span class="dt">data =</span> hpdi_s, <span class="kw">aes</span>(<span class="dt">x =</span> Parameter)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_pointrange</span>(<span class="kw">aes</span>(<span class="dt">ymin =</span> HPDI.lower, <span class="dt">ymax =</span> HPDI.higher, </span>
<span id="cb88-2"><a href="multiple-group-comparison.html#cb88-2"></a>    <span class="dt">y =</span> Mean)) <span class="op">+</span><span class="st"> </span><span class="kw">labs</span>(<span class="dt">y =</span> <span class="st">&quot;s&quot;</span>, <span class="dt">x =</span> <span class="st">&quot;Parameter&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">coord_flip</span>()</span>
<span id="cb88-3"><a href="multiple-group-comparison.html#cb88-3"></a>p_s <span class="op">+</span><span class="st"> </span><span class="kw">plot_annotation</span>(<span class="dt">title =</span> <span class="st">&quot;HPDI interval std of the benchmarks&quot;</span>)</span></code></pre></div>
<p><img src="statscomp-appendix_files/figure-html/unnamed-chunk-84-3.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="multiple-group-comparison.html#cb89-1"></a>p_nu &lt;-<span class="st"> </span><span class="kw">ggplot</span>(<span class="dt">data =</span> hpdi_nu, <span class="kw">aes</span>(<span class="dt">x =</span> Parameter)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_pointrange</span>(<span class="kw">aes</span>(<span class="dt">ymin =</span> HPDI.lower, </span>
<span id="cb89-2"><a href="multiple-group-comparison.html#cb89-2"></a>    <span class="dt">ymax =</span> HPDI.higher, <span class="dt">y =</span> Mean)) <span class="op">+</span><span class="st"> </span><span class="kw">labs</span>(<span class="dt">y =</span> <span class="st">&quot;nu&quot;</span>, <span class="dt">x =</span> <span class="st">&quot;Parameter&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">coord_flip</span>()</span>
<span id="cb89-3"><a href="multiple-group-comparison.html#cb89-3"></a>p_nu <span class="op">+</span><span class="st"> </span><span class="kw">plot_annotation</span>(<span class="dt">title =</span> <span class="st">&quot;HPDI interval of the degree of freedom&quot;</span>)</span></code></pre></div>
<p><img src="statscomp-appendix_files/figure-html/unnamed-chunk-84-4.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="multiple-group-comparison.html#cb90-1"></a>p_nu_s &lt;-<span class="st"> </span><span class="kw">ggplot</span>(<span class="dt">data =</span> hpdi_nu_s, <span class="kw">aes</span>(<span class="dt">x =</span> Parameter)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_pointrange</span>(<span class="kw">aes</span>(<span class="dt">ymin =</span> HPDI.lower, </span>
<span id="cb90-2"><a href="multiple-group-comparison.html#cb90-2"></a>    <span class="dt">ymax =</span> HPDI.higher, <span class="dt">y =</span> Mean)) <span class="op">+</span><span class="st"> </span><span class="kw">labs</span>(<span class="dt">y =</span> <span class="st">&quot;Estimate&quot;</span>, <span class="dt">x =</span> <span class="st">&quot;Parameter&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">coord_flip</span>()</span>
<span id="cb90-3"><a href="multiple-group-comparison.html#cb90-3"></a>p_nu_s <span class="op">+</span><span class="st"> </span><span class="kw">plot_annotation</span>(<span class="dt">title =</span> <span class="st">&quot;HPDI interval&quot;</span>)</span></code></pre></div>
<p><img src="statscomp-appendix_files/figure-html/unnamed-chunk-84-5.png" width="672" style="display: block; margin: auto;" /></p>
<p>Now lets get a posterior distribution of the difference</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="multiple-group-comparison.html#cb91-1"></a>posterior &lt;-<span class="st"> </span>rstan<span class="op">::</span><span class="kw">extract</span>(multiplegroup_fit)</span>
<span id="cb91-2"><a href="multiple-group-comparison.html#cb91-2"></a>a_alg &lt;-<span class="st"> </span><span class="kw">as_tibble</span>(posterior<span class="op">$</span>a_alg)</span>
<span id="cb91-3"><a href="multiple-group-comparison.html#cb91-3"></a><span class="kw">colnames</span>(a_alg) &lt;-<span class="st"> </span>algorithms</span>
<span id="cb91-4"><a href="multiple-group-comparison.html#cb91-4"></a>sample_a_alg &lt;-<span class="st"> </span>dplyr<span class="op">::</span><span class="kw">sample_n</span>(a_alg, <span class="dt">size =</span> <span class="dv">1000</span>, <span class="dt">replace =</span> T) <span class="op">%&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">PSO_Random =</span> PSO <span class="op">-</span><span class="st"> </span></span>
<span id="cb91-5"><a href="multiple-group-comparison.html#cb91-5"></a><span class="st">    </span>RandomSearch1, <span class="dt">DE_PSO =</span> DifferentialEvolution <span class="op">-</span><span class="st"> </span>PSO, <span class="dt">DE_Random =</span> DifferentialEvolution <span class="op">-</span><span class="st"> </span></span>
<span id="cb91-6"><a href="multiple-group-comparison.html#cb91-6"></a><span class="st">    </span>RandomSearch1) <span class="op">%&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw">select</span>(<span class="op">-</span>DifferentialEvolution, <span class="op">-</span>PSO, <span class="op">-</span>RandomSearch1)</span>
<span id="cb91-7"><a href="multiple-group-comparison.html#cb91-7"></a></span>
<span id="cb91-8"><a href="multiple-group-comparison.html#cb91-8"></a><span class="co"># Getting HPDI from a data frame and creating a table instead of plotting...</span></span>
<span id="cb91-9"><a href="multiple-group-comparison.html#cb91-9"></a>hpdi_diff &lt;-<span class="st"> </span>HDInterval<span class="op">::</span><span class="kw">hdi</span>(sample_a_alg, <span class="dt">credMass =</span> <span class="fl">0.95</span>)</span>
<span id="cb91-10"><a href="multiple-group-comparison.html#cb91-10"></a>hpdi_diff &lt;-<span class="st"> </span>hpdi_diff <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">as_tibble</span>(<span class="dt">rownames =</span> <span class="st">&quot;Metric&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span>tibble<span class="op">::</span><span class="kw">add_row</span>(<span class="dt">Metric =</span> <span class="st">&quot;Mean&quot;</span>, </span>
<span id="cb91-11"><a href="multiple-group-comparison.html#cb91-11"></a>    <span class="dt">PSO_Random =</span> <span class="kw">mean</span>(sample_a_alg<span class="op">$</span>PSO_Random), <span class="dt">DE_PSO =</span> <span class="kw">mean</span>(sample_a_alg<span class="op">$</span>DE_PSO), <span class="dt">DE_Random =</span> <span class="kw">mean</span>(sample_a_alg<span class="op">$</span>DE_Random)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb91-12"><a href="multiple-group-comparison.html#cb91-12"></a><span class="st">    </span>tidyr<span class="op">::</span><span class="kw">pivot_longer</span>(<span class="dt">cols =</span> <span class="op">-</span>Metric, <span class="dt">names_to =</span> <span class="st">&quot;AlgorithmDifference&quot;</span>, <span class="dt">values_to =</span> <span class="st">&quot;values&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb91-13"><a href="multiple-group-comparison.html#cb91-13"></a><span class="st">    </span>tidyr<span class="op">::</span><span class="kw">pivot_wider</span>(<span class="dt">names_from =</span> Metric, <span class="dt">values_from =</span> values) <span class="op">%&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">Difference =</span> <span class="kw">c</span>(<span class="st">&quot;PSO - RandomSearch&quot;</span>, </span>
<span id="cb91-14"><a href="multiple-group-comparison.html#cb91-14"></a>    <span class="st">&quot;DifferentialEvolution - PSO&quot;</span>, <span class="st">&quot;DifferentialEvolution - RandomSearch&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw">select</span>(Difference, </span>
<span id="cb91-15"><a href="multiple-group-comparison.html#cb91-15"></a>    <span class="dt">Lower =</span> lower, Mean, <span class="dt">Upper =</span> upper)</span>
<span id="cb91-16"><a href="multiple-group-comparison.html#cb91-16"></a></span>
<span id="cb91-17"><a href="multiple-group-comparison.html#cb91-17"></a><span class="kw">kable</span>(hpdi_diff, <span class="dt">booktabs =</span> T, <span class="dt">format.args =</span> <span class="kw">list</span>(<span class="dt">scientific =</span> <span class="ot">FALSE</span>), <span class="dt">digits =</span> <span class="dv">3</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">kable_styling</span>(<span class="dt">bootstrap_options =</span> <span class="kw">c</span>(<span class="st">&quot;striped&quot;</span>, </span>
<span id="cb91-18"><a href="multiple-group-comparison.html#cb91-18"></a>    <span class="st">&quot;hover&quot;</span>, <span class="st">&quot;condensed&quot;</span>))</span></code></pre></div>
<table class="table table-striped table-hover table-condensed" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Difference
</th>
<th style="text-align:right;">
Lower
</th>
<th style="text-align:right;">
Mean
</th>
<th style="text-align:right;">
Upper
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
PSO - RandomSearch
</td>
<td style="text-align:right;">
0.123
</td>
<td style="text-align:right;">
0.127
</td>
<td style="text-align:right;">
0.130
</td>
</tr>
<tr>
<td style="text-align:left;">
DifferentialEvolution - PSO
</td>
<td style="text-align:right;">
1.207
</td>
<td style="text-align:right;">
1.212
</td>
<td style="text-align:right;">
1.217
</td>
</tr>
<tr>
<td style="text-align:left;">
DifferentialEvolution - RandomSearch
</td>
<td style="text-align:right;">
1.335
</td>
<td style="text-align:right;">
1.339
</td>
<td style="text-align:right;">
1.343
</td>
</tr>
</tbody>
</table>
<p>Creating an output table</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="multiple-group-comparison.html#cb92-1"></a>rename_pars &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="kw">paste</span>(<span class="kw">rep</span>(<span class="st">&quot;a_&quot;</span>, <span class="kw">length</span>(algorithms)), algorithms, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>), <span class="kw">paste</span>(<span class="kw">rep</span>(<span class="st">&quot;sigma_&quot;</span>, </span>
<span id="cb92-2"><a href="multiple-group-comparison.html#cb92-2"></a>    <span class="kw">length</span>(algorithms)), algorithms, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>), <span class="st">&quot;s&quot;</span>, <span class="st">&quot;nu&quot;</span>)</span>
<span id="cb92-3"><a href="multiple-group-comparison.html#cb92-3"></a>t &lt;-<span class="st"> </span><span class="kw">create_table_model</span>(multiplegroup_fit, <span class="dt">pars =</span> <span class="kw">c</span>(a_alg_v, sigma_v, <span class="st">&quot;s&quot;</span>, <span class="st">&quot;nu&quot;</span>), rename_pars)</span>
<span id="cb92-4"><a href="multiple-group-comparison.html#cb92-4"></a><span class="kw">saveRDS</span>(t, <span class="st">&quot;./statscomp-paper/tables/datafortables/multiplegroupsdifference-par-table.RDS&quot;</span>)</span></code></pre></div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="time-to-complete.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="sensitivity-analysis-and-model-comparison.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
